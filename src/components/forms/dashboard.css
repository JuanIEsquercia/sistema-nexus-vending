/* Dashboard específico - Sobrescribe todos los estilos problemáticos */

/* FORZAR RESETEO COMPLETO */
body {
  display: block !important;
  place-items: unset !important;
  align-items: unset !important;
  justify-content: unset !important;
  min-width: unset !important;
}

/* RESETEAR body cuando estamos en dashboard */
body:has(.dashboard-container) {
  background: #f8f9fa !important;
}

.dashboard-container {
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
  min-height: 100vh !important;
  display: block !important;
  position: relative !important;
  background: #f8f9fa !important;
}

.dashboard-container * {
  box-sizing: border-box !important;
}

.dashboard-container .container,
.dashboard-container .container-fluid {
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

.dashboard-container .row {
  width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

.dashboard-container .col,
.dashboard-container [class*="col-"] {
  padding: 0 !important;
  margin: 0 !important;
}

/* Forzar ancho completo */
.dashboard-container .w-100 {
  width: 100% !important;
  max-width: 100% !important;
}

/* Sobrescribir estilos de body que interfieren */
body.dashboard-active {
  display: block !important;
  place-items: unset !important;
  min-width: unset !important;
  min-height: unset !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Asegurar que el main no tenga restricciones */
main.dashboard-main {
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
  flex: unset !important;
  display: block !important;
}

/* Cards del dashboard */
.dashboard-card {
  width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Responsive grid forzado */
.dashboard-grid {
  display: grid !important;
  width: 100% !important;
  grid-template-columns: repeat(4, 1fr) !important;
  gap: 1rem !important;
  padding: 0 20px !important;
}

@media (max-width: 1200px) {
  .dashboard-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

@media (max-width: 768px) {
  .dashboard-grid {
    grid-template-columns: 1fr !important;
  }
}

/* Gráficos */
.dashboard-charts {
  display: grid !important;
  grid-template-columns: repeat(2, 1fr) !important;
  gap: 1rem !important;
  width: 100% !important;
  padding: 0 20px !important;
}

@media (max-width: 768px) {
  .dashboard-charts {
    grid-template-columns: 1fr !important;
  }
}

/* Sección de tendencia */
.dashboard-trend {
  width: 100% !important;
  padding: 0 20px !important;
  margin: 0 !important;
}

/* Tabla de compras */
.dashboard-table {
  width: 100% !important;
  padding: 0 20px 20px 20px !important;
  margin: 0 !important;
}

/* Forzar que todos los elementos respeten el ancho */
.dashboard-container .card,
.dashboard-container .card-body,
.dashboard-container .table-responsive,
.dashboard-container .table {
  width: 100% !important;
  max-width: 100% !important;
}

/* Recharts responsive - FORZAR VISIBILIDAD */
.dashboard-container .recharts-wrapper {
  width: 100% !important;
  max-width: 100% !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: relative !important;
}

.dashboard-container .recharts-surface {
  width: 100% !important;
  height: 100% !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

.dashboard-container svg {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  width: 100% !important;
  height: auto !important;
}

/* Asegurar que ResponsiveContainer funcione */
.dashboard-container .recharts-responsive-container {
  width: 100% !important;
  min-width: 100% !important;
  height: 300px !important;
  min-height: 300px !important;
  max-height: 300px !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: relative !important;
  overflow: visible !important;
}

.dashboard-container .recharts-wrapper svg {
  width: 100% !important;
  height: 300px !important;
  min-height: 300px !important;
  display: block !important;
  overflow: visible !important;
  background: rgba(0, 0, 0, 0.02) !important;
  border: 1px solid rgba(0, 0, 0, 0.1) !important;
}

/* Forzar que los elementos del gráfico sean visibles */
.dashboard-container .recharts-layer,
.dashboard-container .recharts-cartesian-grid,
.dashboard-container .recharts-bar,
.dashboard-container .recharts-line,
.dashboard-container .recharts-pie,
.dashboard-container .recharts-text,
.dashboard-container .recharts-label {
  visibility: visible !important;
  opacity: 1 !important;
  display: block !important;
}

/* Forzar elementos SVG básicos */
.dashboard-container svg path,
.dashboard-container svg rect,
.dashboard-container svg line,
.dashboard-container svg text,
.dashboard-container svg g,
.dashboard-container svg circle {
  visibility: visible !important;
  opacity: 1 !important;
  display: block !important;
  fill-opacity: 1 !important;
  stroke-opacity: 1 !important;
}

.dashboard-container .recharts-bar-rectangle path {
  fill: #0088FE !important;
}

.dashboard-container .recharts-line-curve {
  stroke: #8884d8 !important;
  stroke-width: 3 !important;
}

/* Bootstrap overrides */
.dashboard-container .row {
  --bs-gutter-x: 1.5rem !important;
  --bs-gutter-y: 0 !important;
  display: flex !important;
  flex-wrap: wrap !important;
  margin-top: calc(-1 * var(--bs-gutter-y)) !important;
  margin-right: calc(-0.5 * var(--bs-gutter-x)) !important;
  margin-left: calc(-0.5 * var(--bs-gutter-x)) !important;
}

.dashboard-container .col {
  flex: 1 0 0% !important;
  padding-right: calc(var(--bs-gutter-x) * 0.5) !important;
  padding-left: calc(var(--bs-gutter-x) * 0.5) !important;
  margin-top: var(--bs-gutter-y) !important;
}
